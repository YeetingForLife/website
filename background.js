(function(){"use strict";var V=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function J(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var R={exports:{}};(function(e,t){(function(m,g){g(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:V,function(m){var g,c;if(!((c=(g=globalThis.chrome)==null?void 0:g.runtime)!=null&&c.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const A="The message port closed before a response was received.",n=p=>{const y={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(y).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class T extends WeakMap{constructor(s,o=void 0){super(o),this.createItem=s}get(s){return this.has(s)||this.set(s,this.createItem(s)),super.get(s)}}const le=r=>r&&typeof r=="object"&&typeof r.then=="function",G=(r,s)=>(...o)=>{p.runtime.lastError?r.reject(new Error(p.runtime.lastError.message)):s.singleCallbackArg||o.length<=1&&s.singleCallbackArg!==!1?r.resolve(o[0]):r.resolve(o)},M=r=>r==1?"argument":"arguments",ge=(r,s)=>function(l,...d){if(d.length<s.minArgs)throw new Error(`Expected at least ${s.minArgs} ${M(s.minArgs)} for ${r}(), got ${d.length}`);if(d.length>s.maxArgs)throw new Error(`Expected at most ${s.maxArgs} ${M(s.maxArgs)} for ${r}(), got ${d.length}`);return new Promise((f,w)=>{if(s.fallbackToNoCallback)try{l[r](...d,G({resolve:f,reject:w},s))}catch(a){console.warn(`${r} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,a),l[r](...d),s.fallbackToNoCallback=!1,s.noCallback=!0,f()}else s.noCallback?(l[r](...d),f()):l[r](...d,G({resolve:f,reject:w},s))})},Z=(r,s,o)=>new Proxy(s,{apply(l,d,f){return o.call(d,r,...f)}});let N=Function.call.bind(Object.prototype.hasOwnProperty);const W=(r,s={},o={})=>{let l=Object.create(null),d={has(w,a){return a in r||a in l},get(w,a,h){if(a in l)return l[a];if(!(a in r))return;let u=r[a];if(typeof u=="function")if(typeof s[a]=="function")u=Z(r,r[a],s[a]);else if(N(o,a)){let C=ge(a,o[a]);u=Z(r,r[a],C)}else u=u.bind(r);else if(typeof u=="object"&&u!==null&&(N(s,a)||N(o,a)))u=W(u,s[a],o[a]);else if(N(o,"*"))u=W(u,s[a],o["*"]);else return Object.defineProperty(l,a,{configurable:!0,enumerable:!0,get(){return r[a]},set(C){r[a]=C}}),u;return l[a]=u,u},set(w,a,h,u){return a in l?l[a]=h:r[a]=h,!0},defineProperty(w,a,h){return Reflect.defineProperty(l,a,h)},deleteProperty(w,a){return Reflect.deleteProperty(l,a)}},f=Object.create(r);return new Proxy(f,d)},I=r=>({addListener(s,o,...l){s.addListener(r.get(o),...l)},hasListener(s,o){return s.hasListener(r.get(o))},removeListener(s,o){s.removeListener(r.get(o))}}),me=new T(r=>typeof r!="function"?r:function(o){const l=W(o,{},{getContent:{minArgs:0,maxArgs:0}});r(l)}),z=new T(r=>typeof r!="function"?r:function(o,l,d){let f=!1,w,a=new Promise(P=>{w=function(b){f=!0,P(b)}}),h;try{h=r(o,l,w)}catch(P){h=Promise.reject(P)}const u=h!==!0&&le(h);if(h!==!0&&!u&&!f)return!1;const C=P=>{P.then(b=>{d(b)},b=>{let O;b&&(b instanceof Error||typeof b.message=="string")?O=b.message:O="An unexpected error occurred",d({__mozWebExtensionPolyfillReject__:!0,message:O})}).catch(b=>{console.error("Failed to send onMessage rejected reply",b)})};return C(u?h:a),!0}),ce=({reject:r,resolve:s},o)=>{p.runtime.lastError?p.runtime.lastError.message===A?s():r(new Error(p.runtime.lastError.message)):o&&o.__mozWebExtensionPolyfillReject__?r(new Error(o.message)):s(o)},H=(r,s,o,...l)=>{if(l.length<s.minArgs)throw new Error(`Expected at least ${s.minArgs} ${M(s.minArgs)} for ${r}(), got ${l.length}`);if(l.length>s.maxArgs)throw new Error(`Expected at most ${s.maxArgs} ${M(s.maxArgs)} for ${r}(), got ${l.length}`);return new Promise((d,f)=>{const w=ce.bind(null,{resolve:d,reject:f});l.push(w),o.sendMessage(...l)})},Ae={devtools:{network:{onRequestFinished:I(me)}},runtime:{onMessage:I(z),onMessageExternal:I(z),sendMessage:H.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:H.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},j={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return y.privacy={network:{"*":j},services:{"*":j},websites:{"*":j}},W(p,Ae,y)};m.exports=n(chrome)}else m.exports=globalThis.browser})})(R);var X=R.exports;const i=J(X);async function _(e){let t=await i.storage.local.get([e]);if(t.hasOwnProperty(e))return t[e]}async function S(e){let t=await i.storage.local.get([e]);return t.hasOwnProperty(e)?t[e]:!0}function Y(){return{blur_gui:!0,blur_input:!0,cvc:!0,payment_agent:!0,zip_code:!1,clicker_path:"",clicker_interval:"5000",clicker_ignore_disabled:!1,proxy_interval:"0.5"}}async function K(){return await _("settings")||Y()}async function Q(e,t){let m=await K();return m.hasOwnProperty(e)?m[e]:t}function L(e){return e[Math.floor(Math.random()*e.length)]}let E;function ee(e){E&&q();let t=e.includes("://")?e.split("://")[0]:"http",g=(e.includes("://")?e.split("://").slice(1)[0]:e).split(":"),c=g[0],A=parseInt(g[1]),n=g[2],p=g[3];var y={mode:"fixed_servers",rules:{singleProxy:{scheme:t,host:c,port:A}}};i.proxy.settings.set({value:y,scope:"regular"}),n&&p&&(E=T=>{if(T.isProxy)return{authCredentials:{username:n,password:p}}},i.webRequest.onAuthRequired.addListener(E,{urls:["<all_urls>"]},["blocking"]))}function q(){E&&i.webRequest.onAuthRequired.removeListener(E),i.proxy.settings.clear({})}const v={set:ee,clear:q};function re(){console.log("Started elementor!");function e(t){var m="",g,c,A,n,p;do g=t.tagName.toLowerCase(),c=t.hasAttribute("id")&&t.id!==""?"#"+CSS.escape(t.id.trim()):"",A=t.hasAttribute("class")&&t.className!==""?"."+t.className.trim().split(/\s+/).map(y=>CSS.escape(y)).join("."):"",n=t.parentNode,p=Array.prototype.filter.call(t.parentNode.childNodes,function(y){return y.nodeType==Node.ELEMENT_NODE}).indexOf(t)+1,m=g+c+A+":nth-child("+p+") > "+m;while(!n||!(t=n).tagName.match(/^HTML$/i));return m.slice(0,-3)}window.elementor=function(t){t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),window.postMessage({action:"elementor",path:e(t.target)||""})},document.addEventListener("click",window.elementor,!0)}function F(){console.log("Stopped elementor!"),window.elementor&&document.removeEventListener("click",window.elementor,!0)}function te(){let e=window.extSettings.clicker_path||"",t=window.extSettings.clicker_interval||"5000",m=window.extSettings.clicker_ignore_disabled||!1;if(isNaN(t)&&(t=5e3),1e3>+t&&(t=1e3),t=+t,window.hasOwnProperty("autoClickerInt")&&(clearInterval(window.autoClickerInt),console.log("Stopped autoclicker",window.autoClickerInt),delete window.autoClickerInt),!e)return;let g=document.querySelector(e);g&&(window.autoClickerInt=setInterval(()=>{m&&(g.disabled=!1),g.disabled||g.click()},t),console.log("Started autoclicker",e,t))}function se(){window.hasOwnProperty("autoClickerInt")&&(clearInterval(window.autoClickerInt),console.log("Stopped autoclicker",window.autoClickerInt),delete window.autoClickerInt)}let k;i.runtime.onInstalled.addListener(()=>{(async()=>await S("newTab")||!i.action.openPopup?i.tabs.create({url:"popup.html"}):(i.action.setPopup({popup:"popup.html"}),i.action.openPopup(),i.action.setPopup({popup:""})))()}),i.action.onClicked.addListener(()=>{(async()=>await S("newTab")||!i.action.openPopup?i.tabs.create({url:"popup.html"}):(i.action.setPopup({popup:"popup.html"}),i.action.openPopup(),i.action.setPopup({popup:""})))()}),i.alarms.onAlarm.addListener(e=>{if(!k){v.clear(),i.alarms.clear("proxy");return}let t=L(k);v.set(t)}),(async()=>{let e=await _("proxy");if(k=e?e.trim().split(`
`):void 0,!k){v.clear(),i.alarms.clear("proxy");return}$(k,!1)})();async function $(e,t){if(!await S("toggle"))return;if(v.set(L(e)),t&&await i.alarms.clear("proxy"),!await i.alarms.get("proxy")&&e.length>1){let c=+(await Q("proxy_interval","0.5")||"0.5");i.alarms.create("proxy",{periodInMinutes:c})}}async function B(e,t,m){try{return await i.scripting.executeScript({world:"MAIN",target:{tabId:e,allFrames:t},files:m,injectImmediately:!0})}catch(g){console.log(g)}}async function x(e,t,m,g){try{return await i.scripting.executeScript({world:"MAIN",target:{tabId:e,allFrames:t},func:m,args:g,injectImmediately:!0})}catch(c){console.log(c)}}async function ne(e,t,m){try{return await i.scripting.executeScript({target:{tabId:e,allFrames:t},files:m,injectImmediately:!0})}catch(g){console.log(g)}}function ie(){Object.keys(extPatches).forEach(e=>{extPatches[e](),delete extPatches[e]})}function ae(){window.top===window.self&&console.log(atob("RG90IEJ5cGFzc2Vy"),atob("aHR0cHM6Ly90ZWxlZ3JhbS5tZS9kb3RfYnlwYXNzZXI"))}function oe(){window.top===window.self&&console.log(atob("RG90IEJ5cGFzc2VyIGJ5IGh0dHBzOi8vdGVsZWdyYW0ubWUvZG90X2J5cGFzc2Vy"))}function U(e){window.extSettings=e,window.top===window.self&&console.log("Updated extension settings!")}function D(e){e===""&&(e=void 0),window.bin=e,window.top===window.self&&console.log(`Updated bin to ${e?e.join(", "):"nothing"}!`)}i.runtime.onMessage.addListener((e,t,m)=>{(async()=>{if(e.action==="disable"){v.clear(),i.alarms.clear("proxy"),(await i.tabs.query({})).forEach(async n=>{(n.url.startsWith("https://")||n.url.startsWith("http://"))&&await x(n.id,!0,ie,void 0)});return}if(e.action==="startAutoClicker"&&(await i.tabs.query({})).forEach(async n=>{(n.url.startsWith("https://")||n.url.startsWith("http://"))&&await x(n.id,!0,te,void 0)}),e.action==="stopAutoClicker"&&(await i.tabs.query({})).forEach(async n=>{(n.url.startsWith("https://")||n.url.startsWith("http://"))&&await x(n.id,!0,se,void 0)}),e.action==="startElementor"&&(await i.tabs.query({})).forEach(async n=>{(n.url.startsWith("https://")||n.url.startsWith("http://"))&&await x(n.id,!0,re,void 0)}),e.action==="elementor"&&(await i.tabs.query({})).forEach(async n=>{(n.url.startsWith("https://")||n.url.startsWith("http://"))&&await x(n.id,!0,F,void 0)}),e.action==="stopElementor"&&(await i.tabs.query({})).forEach(async n=>{(n.url.startsWith("https://")||n.url.startsWith("http://"))&&await x(n.id,!0,F,void 0)}),!!await S("toggle")){if(e.action==="updateBin"&&(await i.tabs.query({})).forEach(async n=>{(n.url.startsWith("https://")||n.url.startsWith("http://"))&&await x(n.id,!0,D,[e.bin||""])}),e.action==="updateProxy"){if(k=e.proxy,!k){i.alarms.clear("proxy"),v.clear();return}$(k,e.restart)}if(e.action==="updateSettings"&&(await i.tabs.query({})).forEach(async n=>{(n.url.startsWith("https://")||n.url.startsWith("http://"))&&await x(n.id,!0,U,[e.settings])}),e.action==="executeScript"&&(await i.tabs.query({})).forEach(async n=>{(n.url.startsWith("https://")||n.url.startsWith("http://"))&&await g(n.id)}),e.action==="executeScriptOnTab"&&await g(t.tab.id),e.action==="log"){let A=await _("logs")||[];A.push(e.data),i.storage.local.set({logs:A})}}})();async function g(c){await x(c,!0,ae),await ne(c,!0,["Scripts/postMessage.js"]),await B(c,!0,["Utils/index.js","Libraries/jsEncrypt/jsencrypt.min.js","Libraries/Evervault/evervault.min.js"]),await x(c,!0,D,[e.bin||""]),await x(c,!0,U,[e.settings]),await B(c,!0,["Hooks/index.js"]),await x(c,!0,oe)}})})();
